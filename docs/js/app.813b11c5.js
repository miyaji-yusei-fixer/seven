(function(){"use strict";var e={9461:function(e,t,s){var a=s(144),n=s(998),r=s(6232),i=s(5550),o=s(5808),c=s(4525),d=s(982),l=s(2385),h=s(8162),u=s(3687),p=s(7953),m=function(){var e=this,t=e._self._c;return t(n.Z,{attrs:{id:"app"}},[t("header",[t(r.Z,{attrs:{dark:"",color:"green darken-2"}},[t(i.Z,{on:{click:function(t){e.drawer=!0}}}),t(p.qW,[e._v("Seven")]),t(u.Z)],1),t(h.Z,{attrs:{fixed:"",temporary:"",dark:"",color:"green darken-2"},scopedSlots:e._u([{key:"append",fn:function(){return[t("p",{staticClass:"white--text"},[e._v("version: "+e._s(e.version))]),t("p",[t("a",{staticClass:"white--text",attrs:{href:"https://github.com/miyaji-yusei-fixer/seven"}},[e._v("©2023 Miyaji Yusei ")])])]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(o.Z,{attrs:{nav:"",dense:""}},[t(d.Z,[t(c.Z,{on:{click:function(t){return e.toNewGame("/")}}},[t(l.V9,[e._v("ニューゲーム")])],1),t(c.Z,{on:{click:function(t){return e.toNewGame("/about")}}},[t(l.V9,[e._v("遊び方")])],1),t(c.Z,{on:{click:function(t){return e.toNewGame("/tutorial")}}},[t(l.V9,[e._v("チュートリアル")])],1)],1)],1)],1)],1),t("router-view")],1)},f=[],g=(s(560),{i8:"1.3.1"}),k={data(){return{drawer:!1,version:g.i8}},methods:{toNewGame(e){this.$route.path==e?location.reload():this.$router.push(e)}}},w=k,y=s(1001),b=(0,y.Z)(w,m,f,!1,null,null,null),v=b.exports,D=s(8864),C=s(2638);a.ZP.use(D.Z);var Z=new D.Z({theme:{themes:{light:{primary:"#ff0000",secondary:C.Z.green,accent:C.Z.red.darken3,error:C.Z.red,warning:C.Z.yellow,info:C.Z.grey,success:"#795548",mycolor:"#e0e0e0"},dark:{primary:"#ff0000",secondary:C.Z.green}}}}),x=s(8345),H=s(6190),_=s(579),S=s(4886),z=s(266),j=s(2118),T=s(5879),q=s(4324),O=s(1713),$=function(){var e=this,t=e._self._c;return t(j.Z,{staticClass:"play-game green",attrs:{fluid:""}},[t(r.Z,{attrs:{dark:"",color:"green lighten-1"}},["finished"==e.phase?t(H.Z,{attrs:{outlined:""},on:{click:function(t){e.gameResultDialog=!0}}},[e._v("Result")]):e._e(),t(p.qW,[e._v(e._s("finished"==e.phase?"":`Turn: ${e.turn}`))]),t(u.Z),t(p.qW,[e._v(e._s("finished"==e.phase?"":`${e.phase} Phase`))]),t(u.Z),t(p.qW,[e._v(e._s("finished"==e.phase?"":`${e.game.playerHands.length}：${e.game.enemyHands.length}`))]),t(u.Z),t(H.Z,{attrs:{icon:""},on:{click:function(t){e.newGameDialog=!0}}},[t(q.Z,[e._v("mdi-refresh")])],1)],1),t("BoardSurface",e._b({ref:"boardSurface",attrs:{isDisabledDeck:e.isDisabledDeck,isDisabledHands:"player"!=e.phase},on:{onClickDeck:e.onClickDeck,onClickDiscard:e.onClickDiscard,selectCard:e.selectCard}},"BoardSurface",e.props,!1)),t(T.Z,{attrs:{"max-width":"400px"},model:{value:e.gameResultDialog,callback:function(t){e.gameResultDialog=t},expression:"gameResultDialog"}},[e.handsTotal(e.game.playerHands)<e.handsTotal(e.game.enemyHands)?t(_.Z,{attrs:{color:"blue-grey lighten-5"}},[t(q.Z,{attrs:{size:"600%"}},[e._v("mdi-crown")]),t(S.ZB,{staticClass:"text-h3 font-weight-bold"},[e._v(" You Win!")]),t(S.ZB,{staticClass:"text-h4"},[t("span",{staticClass:"green--text"},[e._v(e._s(e.handsTotal(e.game.playerHands)))]),t("span",{staticClass:"green--text"},[e._v("("+e._s(e.game.playerHands.length)+")")]),e._v(" ： "),t("span",{staticClass:"red--text"},[e._v(e._s(e.handsTotal(e.game.enemyHands)))]),t("span",{staticClass:"red--text"},[e._v("("+e._s(e.game.enemyHands.length)+")")])]),t(S.h7,[t(H.Z,{staticClass:"new-game-button",attrs:{outlined:"","x-large":"",color:"green"},on:{click:function(t){e.newGameDialog=!0}}},[t(q.Z,[e._v(" mdi-refresh ")]),e._v(" もう一度 ")],1)],1)],1):t(_.Z,{attrs:{color:"blue-grey lighten-5"}},[t(q.Z,{attrs:{size:"600%"}},[e._v("mdi-emoticon-cry")]),t(S.ZB,{staticClass:"text-h3 font-weight-bold"},[e._v(" You Lose...")]),t(S.ZB,{staticClass:"text-h4"},[t("span",{staticClass:"red--text"},[e._v(e._s(e.handsTotal(e.game.playerHands)))]),t("span",{staticClass:"red--text"},[e._v("("+e._s(e.game.playerHands.length)+")")]),e._v(" ： "),t("span",{staticClass:"green--text"},[e._v(e._s(e.handsTotal(e.game.enemyHands)))]),t("span",{staticClass:"green--text"},[e._v("("+e._s(e.game.enemyHands.length)+")")])]),t(S.h7,[t(H.Z,{staticClass:"new-game-button",attrs:{outlined:"","x-large":"",color:"green"},on:{click:function(t){e.newGameDialog=!0}}},[t(q.Z,[e._v(" mdi-refresh ")]),e._v(" もう一度 ")],1)],1)],1)],1),t(T.Z,{attrs:{"max-width":"500px"},model:{value:e.newGameDialog,callback:function(t){e.newGameDialog=t},expression:"newGameDialog"}},[t(_.Z,{attrs:{color:"blue-grey lighten-5"}},[t(S.ZB,[t(O.Z,{staticClass:"pt-4"},[t(z.Z,[t(H.Z,{staticClass:"new-game-button",attrs:{outlined:"","x-large":"",color:"green"},on:{click:function(t){return e.newGame(1)}}},[e._v(" 初級 ")])],1)],1),t(O.Z,[t(z.Z,[t(H.Z,{staticClass:"new-game-button",attrs:{outlined:"","x-large":"",color:"amber"},on:{click:function(t){return e.newGame("2")}}},[e._v(" 中級 ")])],1)],1),t(O.Z,[t(z.Z,[t(H.Z,{staticClass:"new-game-button",attrs:{outlined:"","x-large":"",color:"amber"},on:{click:function(t){return e.newGame("3")}}},[e._v(" 上級 ")])],1)],1),t(O.Z,[t(z.Z,[t(H.Z,{staticClass:"new-game-button",attrs:{outlined:"","x-large":"",color:"orange"},on:{click:function(t){return e.newGame()}}},[e._v(" ランダム ")])],1)],1),t(O.Z,[t(z.Z,[t(H.Z,{staticClass:"new-game-button",attrs:{outlined:""},on:{click:function(t){return e.$router.push("/tutorial")}}},[e._v(" チュートリアル ")])],1),t(z.Z,[t(H.Z,{staticClass:"new-game-button",attrs:{outlined:""},on:{click:function(t){return e.$router.push("/about")}}},[e._v(" 遊び方 ")])],1)],1)],1)],1)],1)],1)},A=[],N=function(){var e=this,t=e._self._c;return t(j.Z,{staticClass:"green board-surface"},[t(O.Z,[Array.isArray(this.hiddenHands)?t("HandsShowed",{staticClass:"hands-hidden",attrs:{isDisabled:!0,hands:e.hiddenHands}}):t("HandsHidden",{staticClass:"hands-hidden",attrs:{hands:e.hiddenHands,selected:e.hiddenSelected}})],1),t(O.Z,{staticClass:"deck"},[t("Deck",{attrs:{deckSheets:e.deckSheets,discard:e.discard,isDisabled:e.isDisabledDeck},on:{onClickDeck:e.onClickDeck,onClickDiscard:e.onClickDiscard}})],1),t(u.Z),t(O.Z,[t("HandsShowed",{ref:"handsShowed",attrs:{isDisabled:e.isDisabledHands,hands:e.playerHands},on:{selectCard:e.selectCard}})],1)],1)},B=[],P=s(4127),G=function(){var e=this,t=e._self._c;return t(_.Z,{staticClass:"field",attrs:{flat:"",disabled:e.isDisabled,color:"rgba(0,0,0,0)"}},[t(O.Z,{staticClass:"hands"},[t(z.Z,{staticClass:"relative",attrs:{cols:"6"}},[t("CardBack",{on:{onClick:e.onClickDeck}}),t(P.Z,{staticClass:"absolute",on:{click:e.onClickDeck}},[e._v(e._s(e.deckSheets))])],1),t(z.Z,{staticClass:"relative",attrs:{cols:"6"}},[t("Card",{attrs:{mark:e.discard},on:{onClick:e.onClickDiscard}})],1)],1)],1)},E=[],L=s(5495),R=function(){var e=this,t=e._self._c;return t(_.Z,{staticClass:"edge"},[t(L.Z,{attrs:{"min-width":"100px","aspect-ratio":1e4/14157,width:e.width,src:e.markSrt(e.mark)},on:{click:e.onClick}})],1)},Q=[],M=JSON.parse('{"s1":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust1.png","s2":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust2.png","s3":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust3.png","s4":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust4.png","s5":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust5.png","s6":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust6.png","s7":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust7.png","s8":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust8.png","s9":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust9.png","sx":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust10.png","sj":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust11.png","sq":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust12.png","sk":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust13.png","h1":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust40.png","h2":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust41.png","h3":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust42.png","h4":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust43.png","h5":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust44.png","h6":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust45.png","h7":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust46.png","h8":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust47.png","h9":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust48.png","hx":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust49.png","hj":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust50.png","hq":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust51.png","hk":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust52.png","c1":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust14.png","c2":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust15.png","c3":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust16.png","c4":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust17.png","c5":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust18.png","c6":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust19.png","c7":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust20.png","c8":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust21.png","c9":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust22.png","cx":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust23.png","cj":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust24.png","cq":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust25.png","ck":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust26.png","d1":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust27.png","d2":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust28.png","d3":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust29.png","d4":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust30.png","d5":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust31.png","d6":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust32.png","d7":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust33.png","d8":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust34.png","d9":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust35.png","dx":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust36.png","dj":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust37.png","dq":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust38.png","dk":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust39.png","ji":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust53.png","jt":"https://chicodeza.com/wordpress/wp-content/uploads/torannpu-illust53.png","bk":"https://aipict.com/wp-content/uploads/2022/09/beach01.png"}');const W=["s1","s2","s3","s4","s5","s6","s7","s8","s9","sx","sj","sq","sk","h1","h2","h3","h4","h5","h6","h7","h8","h9","hx","hj","hq","hk","c1","c2","c3","c4","c5","c6","c7","c8","c9","cx","cj","cq","ck","d1","d2","d3","d4","d5","d6","d7","d8","d9","dx","dj","dq","dk","ji","jt"],F=["s1","h1","c1","d1","s2","h2","c2","d2","s3","h3","c3","d3","s4","h4","c4","d4","s5","h5","c5","d5","s6","h6","c6","d6","s7","h7","c7","d7","s8","h8","c8","d8","s9","h9","c9","d9","sx","hx","cx","dx","sj","hj","cj","dj","sq","hq","cq","dq","sk","hk","ck","dk","ji","jt"],K=["1","2","3","4","5","6","7","8","9","x","j","q","k","i","t"],V=["1","2","3","4","5","6","7","8","9","x","j","q","k"];var Y={name:"Card",props:{width:{type:Number||String,default:100},mark:{type:String,required:!0,validator:function(e){return-1!==W.indexOf(e)}}},methods:{onClick(){this.$emit("onClick")},markSrt(e){return M[e]}}},I=Y,J=(0,y.Z)(I,R,Q,!1,null,null,null),U=J.exports,X=function(){var e=this,t=e._self._c;return t(_.Z,{staticClass:"edge",attrs:{flat:""}},[t(L.Z,{attrs:{"min-width":"100px","aspect-ratio":1e4/14157,width:e.width,src:e.markSrt()},on:{click:e.onClick}})],1)},ee=[],te={props:{width:{type:Number||String,default:100}},methods:{onClick(){this.$emit("onClick")},markSrt(){return M.bk}}},se=te,ae=(0,y.Z)(se,X,ee,!1,null,null,null),ne=ae.exports,re={components:{Card:U,CardBack:ne},props:{deckSheets:{type:Number,required:!0,validator:function(e){return e<=52}},discard:{type:String,required:!0,validator:function(e){return-1!==W.indexOf(e)}},isDisabled:{type:Boolean,default:!1}},methods:{onClickDeck(){this.$emit("onClickDeck")},onClickDiscard(){this.$emit("onClickDiscard")}}},ie=re,oe=(0,y.Z)(ie,G,E,!1,null,null,null),ce=oe.exports,de=function(){var e=this,t=e._self._c;return t(_.Z,{staticClass:"field",attrs:{flat:"",disabled:e.isDisabled,color:"rgba(0,0,0,0)"}},[t(O.Z,{staticClass:"hands"},e._l(e.hands,(function(s,a){return t(z.Z,{key:`${s}`,class:e.classes(a),attrs:{cols:"1"}},[t("card",{attrs:{mark:s},on:{onClick:function(t){return e.selectCard(a)},resetSelect:e.resetSelect}})],1)})),1)],1)},le=[],he={components:{Card:U},data(){return{selected:[]}},props:{isDisabled:{type:Boolean,default:!1},hands:{type:Array,required:!0,validator:function(e){return e.some((e=>-1!==W.indexOf(e)))}}},methods:{isSelected(e){return this.selected.includes(e)},classes(e){return{card:!0,"card-selected":this.isSelected(e)}},selectCard(e){if(this.selected.includes(e))this.resetSelect(),this.$emit("selectCard",this.selected);else{const t=this.hands.filter((t=>t.charAt(1)==this.hands[e].charAt(1)));this.selected=t.map((e=>this.hands.indexOf(e))),this.$emit("selectCard",t)}},resetSelect(){this.selected=[]}}},ue=he,pe=(0,y.Z)(ue,de,le,!1,null,null,null),me=pe.exports,fe=function(){var e=this,t=e._self._c;return t(_.Z,{staticClass:"field",attrs:{flat:"",color:"rgba(0,0,0,0)"}},[t(O.Z,{staticClass:"hands"},e._l(e.hands,(function(s,a){return t(z.Z,{key:`${s}`,class:e.classes(a),attrs:{cols:"1"}},[t("CardBack")],1)})),1)],1)},ge=[],ke={components:{CardBack:ne},props:{hands:{type:Number,required:!0},selected:{type:Array,default:()=>[]}},methods:{classes(e){return{card:!0,"card-selected":this.selected.includes(e)||!1}}}},we=ke,ye=(0,y.Z)(we,fe,ge,!1,null,null,null),be=ye.exports,ve={name:"BoardSurface",components:{Deck:ce,HandsShowed:me,HandsHidden:be},props:{playerHands:{type:Array,required:!0,validator:function(e){return e.some((e=>-1!==W.indexOf(e)))}},hiddenHands:{required:!0},hiddenSelected:{type:Array,default:()=>[]},deckSheets:{type:Number,required:!0,validator:function(e){return e<=52}},discard:{type:String,required:!0,validator:function(e){return-1!==W.indexOf(e)}},isDisabledDeck:{type:Boolean,default:!1},isDisabledHands:{type:Boolean,default:!1}},methods:{onClickDeck(){this.$emit("onClickDeck")},onClickDiscard(){this.$emit("onClickDiscard")},selectCard(e){this.$emit("selectCard",e)},resetSelect(){this.$refs.handsShowed.resetSelect()}}},De=ve,Ce=(0,y.Z)(De,N,B,!1,null,null,null),Ze=Ce.exports;const xe=class{shuffleDeck(){this.deck=He(this.deck)}drawDeck(e){const t=this.deck.slice(0,e);return this.deck=this.deck.slice(e),t}drawADeck(e){let t=this.deck.slice(0,1);return this.deck=this.deck.slice(1),e?e.push(t[0]):t[0]}sortOfNumber(e){return e.sort(((e,t)=>F.indexOf(e)-F.indexOf(t)))}async throwAndDrawDeck(e){if(this.discard=e.concat(this.discard),this.playerHands=this.playerHands.filter((t=>!e.includes(t))),this.drawADeck(this.playerHands),this.playerHands=this.sortOfNumber(this.playerHands),this.checkResult(this.playerHands))return this.phase="finished","あなたの勝ち！";{const e=await this.enemyTurn(this.level);return e}}async throwAndDrawDiscard(e){if(this.playerHands=this.playerHands.filter((t=>!e.includes(t))),this.playerHands.push(this.discard[0]),this.playerHands=this.sortOfNumber(this.playerHands),this.discard.shift(),this.discard=e.concat(this.discard),this.checkResult(this.playerHands))return this.phase="finished","あなたの勝ち！";{const e=await this.enemyTurn(this.level);return e}}enemyThrowAndDrawDeck(e){this.discard=e.concat(this.discard),this.enemyHands=this.enemyHands.filter((t=>!e.includes(t))),this.drawADeck(this.enemyHands),this.enemyHands=this.sortOfNumber(this.enemyHands)}enemyThrowAndDrawDiscard(e){this.enemyHands=this.enemyHands.filter((t=>!e.includes(t))),this.enemyHands.push(this.discard[0]),this.enemyHands=this.sortOfNumber(this.enemyHands),this.discard.shift(),this.discard=e.concat(this.discard)}checkResult(e){let t=0;return e.forEach((e=>{e[1].match(/^\d$/)?t+=parseInt(e[1]):"x"==e[1]?t+=10:"j"==e[1]?t+=11:"q"==e[1]?t+=12:"k"==e[1]&&(t+=13)})),t<=7}async enemyTurn(e){this.phase="enemy",await _e(1),this.enemyHands=this.sortOfNumber(this.enemyHands);let t=[];switch(e){case"2":K.filter((e=>!e.includes(this.discard[0][1]))).forEach((e=>{this.enemyHands.some((t=>t.includes(e)))&&(t=this.enemyHands.filter((t=>t.includes(e))))}));break;case"3":V.filter((e=>!e.includes(this.discard[0][1]))).forEach((e=>{this.enemyHands.some((t=>t[1]==e))&&(t=this.enemyHands.filter((t=>t[1]==e)))}));break;default:K.forEach((e=>{this.enemyHands.some((t=>t.includes(e)))&&(t=this.enemyHands.filter((t=>t.includes(e))))}));break}if(this.enemySelect=t.map((e=>this.enemyHands.indexOf(e))),await _e(1),this.enemyHands.some((e=>e.includes(this.discard[0][1])))?this.enemyThrowAndDrawDiscard(t):this.enemyThrowAndDrawDeck(t),this.enemySelect=[],this.checkResult(this.enemyHands))return this.phase="finished","相手の勝ち...";this.turn+=1,this.phase="player"}constructor(e){const t=["1","2"];this.level=e||t[Math.floor(Math.random()*t.length)],this.deck=He(W),this.deck=W,this.playerHands=this.sortOfNumber(this.drawDeck(7)),this.enemyHands=this.drawDeck(7),this.enemySelect=[],this.discard=this.drawDeck(1);while("ji"==this.discard[0]||"jt"==this.discard[0])this.deck.push(this.discard[0]),this.deck=He(this.deck),this.discard=this.drawDeck(1);this.turn=1,this.phase="player"}},He=e=>{for(let t=e.length-1;0<t;t--){let s=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[s],e[s]=a}return e},_e=e=>new Promise((t=>{setTimeout((()=>{t(e)}),1e3*e)}));var Se={components:{BoardSurface:Ze},name:"HelloWorld",data:()=>({game:new xe,selectedCard:[],newGameDialog:!0,gameResultDialog:!1}),computed:{props(){return{playerHands:this.game.playerHands,hiddenHands:"finished"!=this.game.phase?this.game.enemyHands.length:this.game.enemyHands,hiddenSelected:this.game.enemySelect,deckSheets:this.game.deck.length,discard:this.game.discard[0]}},turn(){return this.game.turn},phase(){return this.game.phase},isDisabledDeck(){return!(this.selectedCard.length&&"player"==this.game.phase)}},methods:{newGame(e){this.game=new xe(e),this.newGameDialog=!1,this.gameResultDialog=!1},async onClickDeck(){this.$refs.boardSurface.resetSelect();const e=await this.game.throwAndDrawDeck(this.selectedCard);this.selectedCard=[],"string"==typeof e&&setTimeout((()=>{this.gameResultDialog=!0}),1e3)},async onClickDiscard(){this.$refs.boardSurface.resetSelect();const e=await this.game.throwAndDrawDiscard(this.selectedCard);this.selectedCard=[],"string"==typeof e&&setTimeout((()=>{this.gameResultDialog=!0}),1e3)},selectCard(e){this.selectedCard=e},handsTotal(e){const t=["1","2","3","4","5","6","7","8","9","x","j","q","k"];return e.map((e=>t.indexOf(e[1])+1)).reduce((function(e,t){return e+t}),0)}}},ze=Se,je=(0,y.Z)(ze,$,A,!1,null,null,null),Te=je.exports,qe=function(){var e=this,t=e._self._c;return t(j.Z,{staticClass:"play-game green",attrs:{fluid:""}},[t("BoardSurface",e._b({ref:"boardSurface",on:{onClickDeck:e.onClickDeck,onClickDiscard:e.onClickDiscard,selectCard:e.selectCard}},"BoardSurface",e.props,!1)),t(T.Z,{attrs:{persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(_.Z,[t(S.EB,{staticClass:"text-h5 justify-center"},[e._v(" セブンのチュートリアル "),t(H.Z,{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[t(q.Z,[e._v("mdi-close")])],1)],1),t(S.ZB,{staticClass:"text-left",staticStyle:{"white-space":"pre-wrap","min-height":"200px"}},[e._v(e._s(e.tutorialText[e.phase][e.page-1]))]),t(u.Z),e.phase==e.tutorialText.length-1?t(H.Z,{attrs:{dark:"",color:"green"},on:{click:function(t){return e.$router.push("/")}}},[e._v(" ゲームをプレイする ")]):e._e(),e.phase==e.tutorialText.length-1?t(H.Z,{attrs:{dark:"",color:"red"},on:{click:e.resetTutorial}},[e._v(" 初めから　やり直す ")]):e._e(),t("PaginationTutorial",{attrs:{pageLength:e.pageLength},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}}),t(S.h7,[e.page>1?t(H.Z,{attrs:{dark:"",color:"green"},on:{click:function(t){e.page+=-1}}},[e._v(" 戻る ")]):e._e(),t(u.Z),e.page!=e.pageLength?t(H.Z,{attrs:{dark:"",color:"green"},on:{click:function(t){e.page+=1}}},[e._v(" 次へ ")]):t(H.Z,{attrs:{dark:"",color:"red"},on:{click:e.cloaseDialog}},[e._v(" 閉じる ")])],1)],1)],1)],1)},Oe=[],$e=function(){var e=this,t=e._self._c;return e.pageLength>1?t(j.Z,{attrs:{"d-flex":"","justify-center":""}},e._l(e.pageLength,(function(s){return t("div",{key:s},[t(q.Z,{staticClass:"ma-2",attrs:{color:"green",size:"small"},on:{click:function(t){return e.clickPage(s)}}},[e._v(" "+e._s(s==e.page?"mdi-checkbox-blank-circle":"mdi-checkbox-blank-circle-outline")+" ")])],1)})),0):e._e()},Ae=[],Ne={props:{value:{type:Number,required:!0},pageLength:{type:Number,required:!0}},computed:{page:{get(){return this.value},set(e){this.$emit("input",e)}}},methods:{clickPage(e){this.page=e}}},Be=Ne,Pe=(0,y.Z)(Be,$e,Ae,!1,null,null,null),Ge=Pe.exports;const Ee=class{constructor(){this.deck=Le,this.playerHands=["s1","h3","c3","d8","dx","hq","ck"],this.enemyHands=["ji","s3","h7","c7","c8","d9","cq"],this.discard=["s4"],this.isDisabledDeck=!0,this.isDisabledHands=!1,this.phase=0}nextStep(){switch(this.phase+=1,this.phase){case 1:this.isDisabledHands=!0,this.isDisabledDeck=!1;break;case 2:this.playerHands=this.sortOfNumber(this.playerHands);break;case 3:this.enemyHands=["ji","s3","h7","c7","c8","d9"],this.drawADeck(this.enemyHands),this.discard=["cq"].concat(this.discard);break;case 4:this.isDisabledHands=!0,this.isDisabledDeck=!1;break;case 6:this.deck=Re,this.playerHands=["s1","h3","c3","d4"],this.enemyHands=["h1","s2","h2","c4"],this.discard=["c9"];break;case 7:this.isDisabledHands=!0,this.isDisabledDeck=!1;break;case 8:this.playerHands=this.sortOfNumber(this.playerHands);break;case 9:this.enemyHands=["h1","c4"],this.drawADeck(this.enemyHands),this.discard=["s2"].concat(this.discard);break;case 10:this.isDisabledHands=!0,this.isDisabledDeck=!1;break;default:break}}drawADeck(e){let t=this.deck.slice(0,1);return this.deck=this.deck.slice(1),e?e.push(t[0]):t[0]}sortOfNumber(e){return e.sort(((e,t)=>F.indexOf(e)-F.indexOf(t)))}},Le=["hx","s2","s5","s6","s7","s8","s9","sx","sj","sq","sk","h1","h2","h4","h5","h6","h8","h9","hj","hk","c1","c2","c4","c5","c6","cx","cj","d1","d2","d3","d4","d5","d6","d7","dj","dq","dk","jt"],Re=["d3","hj","hk","c1","c2","c4","c5","c6","cx","cj","d1","d2","d4","d5","d6","d7","dj","dq","dk"];var Qe={components:{BoardSurface:Ze,PaginationTutorial:Ge},name:"Tutorial",data:()=>({tutorial:new Ee,dialog:!0,page:1,tutorialText:Me}),computed:{props(){return{playerHands:this.tutorial.playerHands,hiddenHands:this.tutorial.enemyHands,deckSheets:this.tutorial.deck.length,discard:this.tutorial.discard[0],isDisabledDeck:this.tutorial.isDisabledDeck,isDisabledHands:this.tutorial.isDisabledHands}},phase(){return this.tutorial.phase},pageLength(){return Me[this.phase].length}},methods:{cloaseDialog(){this.dialog=!1,this.page=1,2==this.phase?setTimeout((()=>{this.tutorial.nextStep(),setTimeout((()=>{this.dialog=!0,this.tutorial.isDisabledHands=!1,this.tutorial.isDisabledDeck=!0}),1e3)}),1e3):5==this.phase?(this.tutorial.nextStep(),setTimeout((()=>{this.dialog=!0,this.tutorial.isDisabledHands=!1,this.tutorial.isDisabledDeck=!0}),1e3)):8==this.phase&&setTimeout((()=>{this.tutorial.nextStep(),setTimeout((()=>{this.dialog=!0,this.tutorial.isDisabledHands=!1,this.tutorial.isDisabledDeck=!0}),1e3)}),1e3)},resetTutorial(){this.tutorial=new Ee,this.dialog=!0,this.page=1},nextStep(){this.tutorial.nextStep(),this.dialog=!0},async onClickDeck(){switch(this.phase){case 1:this.$refs.boardSurface.resetSelect(),this.tutorial.isDisabledDeck=!0,this.tutorial.playerHands=["s1","h3","c3","d8","dx","hq"],this.tutorial.discard=["ck"].concat(this.tutorial.discard),this.tutorial.drawADeck(this.tutorial.playerHands),setTimeout((()=>this.nextStep()),1e3);break;case 4:alert("捨て札の♣Qと数字が同じ♥Qが手札にあります。\n捨て札から1枚引いてみましょう。");break;case 7:this.$refs.boardSurface.resetSelect(),this.tutorial.isDisabledDeck=!0,this.tutorial.playerHands=["s1","d4"],this.tutorial.discard=["h3"].concat(this.tutorial.discard),this.tutorial.drawADeck(this.tutorial.playerHands),setTimeout((()=>this.nextStep()),1e3);break;case 9:alert("捨て札から♠2を引いてみましょう。");break;default:break}},async onClickDiscard(){switch(this.phase){case 1:alert("山札（真ん中左）から1枚取りましょう。");break;case 4:this.$refs.boardSurface.resetSelect(),this.tutorial.isDisabledDeck=!0,this.tutorial.playerHands=["s1","h3","c3","d8","hq","cq"],this.tutorial.discard.shift(),setTimeout((()=>this.nextStep()),1e3);break;case 7:alert("山札から1枚引きましょう。\n手札が♠1, ♦4で合計が5なので、2以下のカードを引ければ勝ちです。");break;case 9:this.$refs.boardSurface.resetSelect(),this.tutorial.isDisabledDeck=!0,this.tutorial.playerHands=["s1","d3","s2"],this.tutorial.discard.shift(),setTimeout((()=>this.nextStep()),1e3);break;default:break}},selectCard(e){switch(this.phase){case 0:e.includes("ck")?this.nextStep():(this.$refs.boardSurface.resetSelect(),alert("手札の中で一番数字が大きい♣Kを選んでみましょう。"));break;case 3:e.includes("hx")?this.nextStep():(this.$refs.boardSurface.resetSelect(),alert("♥10と♦10を捨ててみましょう。\n同じ数字のカードは同時に捨てることができます。"));break;case 6:e.includes("h3")?this.nextStep():(this.$refs.boardSurface.resetSelect(),alert("♥3と♣3を捨ててみましょう。"));break;case 9:e.includes("d4")?(this.tutorial.isDisabledHands=!0,this.tutorial.isDisabledDeck=!1):(this.$refs.boardSurface.resetSelect(),alert("終盤に相手が数字の小さいカードを捨てたらチャンスです。♦4を捨ててみましょう。"));break}}}};const Me=[["セブンは、手札を引いて捨ててを繰り返し、合計数が「7」以下になるのを目指すゲームです。","【ディール】\n    山札から自分に7枚、相手に7枚配られ、捨て札に1枚配置してスタートとなります。\n    （相手の手札は見えませんが、ゲームを説明するためにオープンしています。）\n    ","【ターンの流れ】\n    1. 手札から好きな札を捨てます。同じ数字のカードが複数枚ある場合、同時にすべて捨てることができます。\n    2. 山札、もしくは捨て札の一番上から手札に一枚加えます。","まずは手札（一番下）の中で一番数字が大きい♣のKを選んでみましょう。"],["次に、山札（真ん中左）から1枚取りましょう。"],["これで手札の♣Kを捨て、山札から♥10を引くことができました。","今の手札は♠1, ♥3, ♣3, ♦8, ♥10, ♦10, ♥Qなので、合計は47です。\n7以下には程遠いのでターンを終了して、相手のターンに移ります。"],["相手は♣Qを捨て、山札から1枚引いたようです。\n相手の手札は♠2, ♦9 ♣8, ♣7, ♥7, ♠3, ジョーカーなので、合計は36です。\n（ジョーカーは0扱いです。）\nこれで相手のターンが終わり、あなたのターンになります。","次は♥10と♦10を捨ててみましょう。\n同じ数字のカードは同時に捨てることができます。"],["捨て札の♣Qと数字が同じ♥Qが手札にあります。\n今度は捨て札から1枚引いてみましょう。"],["これで手札の♥10と♦10を捨て、捨て札から♣Qを引くことができました。\n次のターンで♥Qと♣Qを同時に捨てることができます。\n1枚捨てて1枚引かなければいけないので、同じ数字を同時に捨てることで手札を減らすことができます。","今の手札は♠1, ♥3, ♣3, ♦8, ♥Q, ♣Qなので、合計は39です。\nまだまだ7より大きいので、同じように繰り返していきます。"],["ターンを繰り返し、手札はお互い4枚になりました。","次は♥3と♣3を捨ててみましょう。"],["山札から1枚引きましょう。\n手札が♠1, ♦4で合計が5なので、2以下のカードを引ければ勝ちです。"],["手札が♠1, ♦3, ♦4で合計が8なので、7以下になりませんでした。相手のターンになります。"],["相手は♠2, ♥2を捨て、山札から1枚引いたようです。\n相手もまだ合計が7以下にならなかったようなので、あなたのターンになります。","終盤に相手が数字の小さいカードを捨てたらチャンスです。♦4を捨てて、捨て札の♠2を取ってみましょう。"],["手札が♠1, ♦3, ♠2で合計が7以下になりました！あなたの勝利です！\nルールがわかったら、さっそくゲームをプレイしてみましょう！"]];var We=Qe,Fe=(0,y.Z)(We,qe,Oe,!1,null,null,null),Ke=Fe.exports;a.ZP.use(x.ZP);const Ve=[{path:"/",name:"home",component:Te},{path:"/about",name:"about",component:()=>s.e(443).then(s.bind(s,5500))},{path:"/tutorial",name:"tutorial",component:Ke}],Ye=new x.ZP({mode:"history",base:"/seven/",routes:Ve});var Ie=Ye,Je=s(629);a.ZP.use(Je.ZP);var Ue=new Je.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});a.ZP.config.productionTip=!1,new a.ZP({vuetify:Z,router:Ie,store:Ue,render:e=>e(v)}).$mount("#app")}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,n,r){if(!a){var i=1/0;for(l=0;l<e.length;l++){a=e[l][0],n=e[l][1],r=e[l][2];for(var o=!0,c=0;c<a.length;c++)(!1&r||i>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[c])}))?a.splice(c--,1):(o=!1,r<i&&(i=r));if(o){e.splice(l--,1);var d=n();void 0!==d&&(t=d)}}return t}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[a,n,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,a){return s.f[a](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/about.78d470e4.js"}}(),function(){s.miniCssF=function(e){return"css/about.107f2f07.css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="seven:";s.l=function(a,n,r,i){if(e[a])e[a].push(n);else{var o,c;if(void 0!==r)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var h=d[l];if(h.getAttribute("src")==a||h.getAttribute("data-webpack")==t+r){o=h;break}}o||(c=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",t+r),o.src=a),e[a]=[n];var u=function(t,s){o.onerror=o.onload=null,clearTimeout(p);var n=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((function(e){return e(s)})),t)return t(s)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),c&&document.head.appendChild(o)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,t,s,a,n){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=function(s){if(r.onerror=r.onload=null,"load"===s.type)a();else{var i=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=o,r.parentNode&&r.parentNode.removeChild(r),n(c)}};return r.onerror=r.onload=i,r.href=t,s?s.parentNode.insertBefore(r,s.nextSibling):document.head.appendChild(r),r},t=function(e,t){for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var n=s[a],r=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(r===e||r===t))return n}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){n=i[a],r=n.getAttribute("data-href");if(r===e||r===t)return n}},a=function(a){return new Promise((function(n,r){var i=s.miniCssF(a),o=s.p+i;if(t(i,o))return n();e(a,o,null,n,r)}))},n={143:0};s.f.miniCss=function(e,t){var s={443:1};n[e]?t.push(n[e]):0!==n[e]&&s[e]&&t.push(n[e]=a(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}}(),function(){var e={143:0};s.f.j=function(t,a){var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var r=new Promise((function(s,a){n=e[t]=[s,a]}));a.push(n[2]=r);var i=s.p+s.u(t),o=new Error,c=function(a){if(s.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var r=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",o.name="ChunkLoadError",o.type=r,o.request=i,n[1](o)}};s.l(i,c,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,r,i=a[0],o=a[1],c=a[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(c)var l=c(s)}for(t&&t(a);d<i.length;d++)r=i[d],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(l)},a=self["webpackChunkseven"]=self["webpackChunkseven"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(9461)}));a=s.O(a)})();
//# sourceMappingURL=app.813b11c5.js.map